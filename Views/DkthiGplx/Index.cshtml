@model IEnumerable<GPLX.Models.DkthiGplx>
<!-- Th√™m th∆∞ vi·ªán SweetAlert2 ƒë·ªÉ hi·ªÉn th·ªã th√¥ng b√°o ƒë·∫πp -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

@if (TempData["Success"] != null)
{
    <script>
        Swal.fire({
            icon: 'success',
            title: 'Th√†nh c√¥ng!',
            showConfirmButton: false,
            timer: 3000
        });
    </script>
}

@if (TempData["Error"] != null)
{
    <script>
        Swal.fire({
            icon: 'error',
            title: 'L·ªói!',
            showConfirmButton: true
        });
    </script>
}

<!-- Th√¥ng b√°o -->
<div class="container mt-5">
    <div class="card shadow-lg p-4 rounded-4 border-0">
        <h2 class="text-primary text-center mb-4">
            <i class="bi bi-journal-check me-2"></i>Danh S√°ch ƒêƒÉng K√Ω Thi GPLX
        </h2>

        <!-- Thanh t√¨m ki·∫øm v√† n√∫t th√™m -->
        <div class="d-flex justify-content-between align-items-center mb-3 flex-wrap gap-2">
            <input type="text" id="searchCccd" class="form-control w-100 w-md-25 shadow-sm"
                placeholder="üîç Nh·∫≠p CCCD ƒë·ªÉ t√¨m ki·∫øm...">
            <a href="@Url.Action("Create", "DkthiGplx")" class="btn btn-success shadow-sm rounded-3">
                <i class="bi bi-plus-circle"></i> Th√™m M·ªõi
            </a>
        </div>

        <!-- B·∫£ng danh s√°ch -->
        <div class="table-responsive">
            <table class="table table-hover table-bordered align-middle text-center">
                <thead class="table-primary text-dark">
                    <tr>
                        <th>üë§ H·ªç T√™n & CCCD</th>
                        <th>üî¢ M√£ Lo·∫°i</th>
                        <th>üìÖ Ng√†y Thi</th>
                        <th>üèõ Trung T√¢m</th>
                        <th class="text-center">‚öôÔ∏è H√†nh ƒê·ªông</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td class="cccd">@item.CccdNavigation.HoTen - @item.Cccd</td>
                            <td>@item.MaLoai</td>
                            <td>@item.NgayThi.ToString("dd/MM/yyyy")</td>
                            <td>@item.MaTtshNavigation.TenTrungTam</td>
                            <td class="text-center">
                                <a href="@Url.Action("Details", "DkthiGplx", new { id = item.MaDkthiGplx })"
                                    class="btn btn-info btn-sm">
                                    üëÅÔ∏è Chi ti·∫øt
                                </a>
                                <a href="@Url.Action("Delete", "DkthiGplx", new { id = item.MaDkthiGplx })"
                                    class="btn btn-danger btn-sm delete-btn">
                                    üóëÔ∏è X√≥a
                                </a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />


<!-- Th√™m x√°c nh·∫≠n khi x√≥a -->
<script>
    // L·ªçc d·ªØ li·ªáu theo CCCD
    document.getElementById("searchCccd").addEventListener("keyup", function () {
        let searchValue = this.value.toLowerCase();
        let rows = document.querySelectorAll("table tbody tr");

        rows.forEach(row => {
            let cccdText = row.querySelector(".cccd").innerText.toLowerCase();
            row.style.display = cccdText.includes(searchValue) ? "" : "none";
        });
    });
</script>
