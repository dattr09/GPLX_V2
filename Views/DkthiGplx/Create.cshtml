@model GPLX.Models.DkthiGplx

<h2 class="mb-3">ğŸ“ ThÃªm ÄÄƒng KÃ½ Thi GPLX</h2>
@if (!ViewData.ModelState.IsValid)
{
    <div class="alert alert-danger">
        @foreach (var error in ViewData.ModelState.Values.SelectMany(v => v.Errors))
        {
            <p>@error.ErrorMessage</p>
        }
    </div>
}

<form asp-action="Create">
    <div class="form-group">
        <label asp-for="Cccd">ğŸ‘¤ CÃ´ng DÃ¢n (TÃªn - CCCD)</label>
        <select asp-for="Cccd" asp-items="ViewBag.Cccd" class="form-control" required>
            <option value="">-- Chá»n cÃ´ng dÃ¢n --</option>
        </select>
        <span asp-validation-for="Cccd" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="MaLoai">ğŸ“Œ MÃ£ Loáº¡i GPLX</label>
        <select asp-for="MaLoai" asp-items="ViewBag.MaLoai" class="form-control" required>
            <option value="">-- Chá»n mÃ£ loáº¡i GPLX --</option>
        </select>
        <span asp-validation-for="MaLoai" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="NgayThi">ğŸ“… NgÃ y Thi</label>
        <input asp-for="NgayThi" type="date" class="form-control" required />
        <span asp-validation-for="NgayThi" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="MaTtsh">ğŸ›ï¸ Trung TÃ¢m SÃ¡t Háº¡ch</label>
        <select asp-for="MaTtsh" asp-items="ViewBag.MaTtsh" class="form-control" required>
            <option value="">-- Chá»n trung tÃ¢m --</option>
        </select>
        <span asp-validation-for="MaTtsh" class="text-danger"></span>
    </div>

    <button type="submit" class="btn btn-success mt-3">âœ… LÆ°u</button>
    <a asp-action="Index" class="btn btn-secondary mt-3">ğŸ”™ Quay láº¡i</a>
</form>

@section Scripts {
    @{
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const ngayThiInput = document.getElementById("NgayThi");

                ngayThiInput.addEventListener("change", function () {
                    const selectedDate = new Date(this.value);
                    const today = new Date();
                    today.setHours(0, 0, 0, 0);

                    if (selectedDate < today) {
                        alert("NgÃ y thi khÃ´ng Ä‘Æ°á»£c á»Ÿ quÃ¡ khá»©.");
                        this.value = "";
                    }
                });
            });
        </script>
    }
}
